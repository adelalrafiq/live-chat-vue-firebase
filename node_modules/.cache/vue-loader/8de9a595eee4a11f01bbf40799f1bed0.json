{"remainingRequest":"/home/tengu/Documents/vue-firebase/live-chat/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/tengu/Documents/vue-firebase/live-chat/src/components/NewChatForm.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/tengu/Documents/vue-firebase/live-chat/src/components/NewChatForm.vue","mtime":1611001793282},{"path":"/home/tengu/Documents/vue-firebase/live-chat/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/tengu/Documents/vue-firebase/live-chat/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tengu/Documents/vue-firebase/live-chat/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB1c2VDb2xsZWN0aW9uIGZyb20gJy4uL2NvbXBvc2FibGVzL3VzZUNvbGxlY3Rpb24nCmltcG9ydCBnZXRVc2VyIGZyb20gJy4uL2NvbXBvc2FibGVzL2dldFVzZXInCmltcG9ydCB7IHRpbWVzdGFtcCB9IGZyb20gJy4uL2ZpcmViYXNlL2NvbmZpZycKaW1wb3J0IHsgcmVmIH0gZnJvbSAndnVlJwpleHBvcnQgZGVmYXVsdCB7CiAgc2V0dXAoKSB7CiAgICBjb25zdCB7IHVzZXIgfSA9IGdldFVzZXIoKQogICAgY29uc3QgeyBhZGREb2MsIGVycm9yIH0gPSB1c2VDb2xsZWN0aW9uKCdtZXNzYWdlcycpCgogICAgLy8gcmVmcwogICAgY29uc3QgbWVzc2FnZSA9IHJlZignJykKICAgIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IGFzeW5jICgpID0+IHsKICAgICAgY29uc3QgY2hhdCA9IHsKICAgICAgICBuYW1lOiB1c2VyLnZhbHVlLmRpc3BsYXlOYW1lLAogICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UudmFsdWUsCiAgICAgICAgY3JlYXRlZEF0OiB0aW1lc3RhbXAoKQogICAgICB9CiAgICAgIC8qIGNvbnNvbGUubG9nKGNoYXQpCiAgICAgIG1lc3NhZ2UudmFsdWUgPSAnJyAqLwogICAgICBhd2FpdCBhZGREb2MoY2hhdCkKICAgICAgaWYgKCFlcnJvci52YWx1ZSkgewogICAgICAgIG1lc3NhZ2UudmFsdWUgPSAnJwogICAgICB9CiAgICB9CiAgICByZXR1cm4geyBtZXNzYWdlLCBoYW5kbGVTdWJtaXQsIGVycm9yIH0KICB9Cn0K"},{"version":3,"sources":["/home/tengu/Documents/vue-firebase/live-chat/src/components/NewChatForm.vue"],"names":[],"mappings":"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","file":"/home/tengu/Documents/vue-firebase/live-chat/src/components/NewChatForm.vue","sourceRoot":"","sourcesContent":["<template>\n  <form>\n    <textarea\n      placeholder=\"Type a message and hit enter to send...\" \n      v-model=\"message\"\n      @keypress.enter.prevent=\"handleSubmit\">\n    </textarea>\n    <div v-if=\"error\" class=\"error\">{{ error }} blah</div>\n  </form>\n</template>\n\n<script>\nimport useCollection from '../composables/useCollection'\nimport getUser from '../composables/getUser'\nimport { timestamp } from '../firebase/config'\nimport { ref } from 'vue'\nexport default {\n  setup() {\n    const { user } = getUser()\n    const { addDoc, error } = useCollection('messages')\n\n    // refs\n    const message = ref('')\n    const handleSubmit = async () => {\n      const chat = {\n        name: user.value.displayName,\n        message: message.value,\n        createdAt: timestamp()\n      }\n      /* console.log(chat)\n      message.value = '' */\n      await addDoc(chat)\n      if (!error.value) {\n        message.value = ''\n      }\n    }\n    return { message, handleSubmit, error }\n  }\n}\n</script>\n\n<style scoped>\n  form {\n    margin: 10px;\n  }\n  textarea {\n    width: 100%;\n    max-width: 100%;\n    margin-bottom: 6px;\n    padding: 10px;\n    box-sizing: border-box;\n    border: 0;\n    border-radius: 20px;\n    font-family: inherit;\n    outline: none;\n  }\n  .error {\n    text-align: center;\n    color: #ff2a58;\n    font-size: 12px;\n    padding: 10px 0;\n  }\n</style> "]}]}