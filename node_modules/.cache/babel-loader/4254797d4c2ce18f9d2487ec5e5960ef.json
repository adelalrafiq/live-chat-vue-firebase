{"remainingRequest":"/home/tengu/Documents/vue-firebase/live-chat/node_modules/babel-loader/lib/index.js!/home/tengu/Documents/vue-firebase/live-chat/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/home/tengu/Documents/vue-firebase/live-chat/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/tengu/Documents/vue-firebase/live-chat/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/tengu/Documents/vue-firebase/live-chat/src/components/NewChatForm.vue?vue&type=template&id=2d7a1408&scoped=true","dependencies":[{"path":"/home/tengu/Documents/vue-firebase/live-chat/src/components/NewChatForm.vue","mtime":1611001793282},{"path":"/home/tengu/Documents/vue-firebase/live-chat/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tengu/Documents/vue-firebase/live-chat/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/tengu/Documents/vue-firebase/live-chat/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/home/tengu/Documents/vue-firebase/live-chat/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tengu/Documents/vue-firebase/live-chat/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgdk1vZGVsVGV4dCBhcyBfdk1vZGVsVGV4dCwgd2l0aE1vZGlmaWVycyBhcyBfd2l0aE1vZGlmaWVycywgd2l0aEtleXMgYXMgX3dpdGhLZXlzLCBjcmVhdGVWTm9kZSBhcyBfY3JlYXRlVk5vZGUsIHdpdGhEaXJlY3RpdmVzIGFzIF93aXRoRGlyZWN0aXZlcywgdG9EaXNwbGF5U3RyaW5nIGFzIF90b0Rpc3BsYXlTdHJpbmcsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVCbG9jayBhcyBfY3JlYXRlQmxvY2ssIGNyZWF0ZUNvbW1lbnRWTm9kZSBhcyBfY3JlYXRlQ29tbWVudFZOb2RlLCB3aXRoU2NvcGVJZCBhcyBfd2l0aFNjb3BlSWQsIHB1c2hTY29wZUlkIGFzIF9wdXNoU2NvcGVJZCwgcG9wU2NvcGVJZCBhcyBfcG9wU2NvcGVJZCB9IGZyb20gInZ1ZSI7Cgp2YXIgX3dpdGhJZCA9IC8qI19fUFVSRV9fKi9fd2l0aFNjb3BlSWQoImRhdGEtdi0yZDdhMTQwOCIpOwoKX3B1c2hTY29wZUlkKCJkYXRhLXYtMmQ3YTE0MDgiKTsKCnZhciBfaG9pc3RlZF8xID0gewogIGtleTogMCwKICBjbGFzczogImVycm9yIgp9OwoKX3BvcFNjb3BlSWQoKTsKCmV4cG9ydCB2YXIgcmVuZGVyID0gLyojX19QVVJFX18qL193aXRoSWQoZnVuY3Rpb24gKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZm9ybSIsIG51bGwsIFtfd2l0aERpcmVjdGl2ZXMoX2NyZWF0ZVZOb2RlKCJ0ZXh0YXJlYSIsIHsKICAgIHBsYWNlaG9sZGVyOiAiVHlwZSBhIG1lc3NhZ2UgYW5kIGhpdCBlbnRlciB0byBzZW5kLi4uIiwKICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIHJldHVybiAkc2V0dXAubWVzc2FnZSA9ICRldmVudDsKICAgIH0pLAogICAgb25LZXlwcmVzczogX2NhY2hlWzJdIHx8IChfY2FjaGVbMl0gPSBfd2l0aEtleXMoX3dpdGhNb2RpZmllcnMoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gJHNldHVwLmhhbmRsZVN1Ym1pdCAmJiAkc2V0dXAuaGFuZGxlU3VibWl0LmFwcGx5KCRzZXR1cCwgYXJndW1lbnRzKTsKICAgIH0sIFsicHJldmVudCJdKSwgWyJlbnRlciJdKSkKICB9LCBudWxsLCA1NDQKICAvKiBIWURSQVRFX0VWRU5UUywgTkVFRF9QQVRDSCAqLwogICksIFtbX3ZNb2RlbFRleHQsICRzZXR1cC5tZXNzYWdlXV0pLCAkc2V0dXAuZXJyb3IgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIF90b0Rpc3BsYXlTdHJpbmcoJHNldHVwLmVycm9yKSArICIgYmxhaCIsIDEKICAvKiBURVhUICovCiAgKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSldKTsKfSk7"},{"version":3,"sources":["/home/tengu/Documents/vue-firebase/live-chat/src/components/NewChatForm.vue"],"names":[],"mappings":";;;;;;;;AAOsB,EAAA,KAAK,EAAC;;;;;;uBAN1B,YAAA,CAOO,MAPP,EAOO,IAPP,EAOO,C,gBANL,YAAA,CAIW,UAJX,EAIW;AAHT,IAAA,WAAW,EAAC,yCAGH;;aAFA,MAAA,CAAA,OAAA,GAAO,M;MAEP;AADR,IAAA,UAAQ,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,SAAA,CAAA,cAAA,CAAA;AAAA,aAAgB,MAAA,CAAA,YAAA,IAAA,MAAA,CAAA,YAAA,OAAA,MAAA,YAAhB;AAAA,KAAA,EAA4B,CAAA,SAAA,CAA5B,CAAA,EAA4B,CAAA,OAAA,CAA5B,CAAA;AACA,GAJX,E,IAAA,E;;AAAA,G,iBAEW,MAAA,CAAA,O,GAIN,EADM,MAAA,CAAA,K,kBAAX,YAAA,CAAsD,KAAtD,EAAA,UAAA,EAAsD,gBAAA,CAAnB,MAAA,CAAA,KAAmB,CAAA,GAAX,OAA3C,EAAgD;AAAA;AAAhD,G,qCACK,CAPP,C","sourcesContent":["<template>\n  <form>\n    <textarea\n      placeholder=\"Type a message and hit enter to send...\" \n      v-model=\"message\"\n      @keypress.enter.prevent=\"handleSubmit\">\n    </textarea>\n    <div v-if=\"error\" class=\"error\">{{ error }} blah</div>\n  </form>\n</template>\n\n<script>\nimport useCollection from '../composables/useCollection'\nimport getUser from '../composables/getUser'\nimport { timestamp } from '../firebase/config'\nimport { ref } from 'vue'\nexport default {\n  setup() {\n    const { user } = getUser()\n    const { addDoc, error } = useCollection('messages')\n\n    // refs\n    const message = ref('')\n    const handleSubmit = async () => {\n      const chat = {\n        name: user.value.displayName,\n        message: message.value,\n        createdAt: timestamp()\n      }\n      /* console.log(chat)\n      message.value = '' */\n      await addDoc(chat)\n      if (!error.value) {\n        message.value = ''\n      }\n    }\n    return { message, handleSubmit, error }\n  }\n}\n</script>\n\n<style scoped>\n  form {\n    margin: 10px;\n  }\n  textarea {\n    width: 100%;\n    max-width: 100%;\n    margin-bottom: 6px;\n    padding: 10px;\n    box-sizing: border-box;\n    border: 0;\n    border-radius: 20px;\n    font-family: inherit;\n    outline: none;\n  }\n  .error {\n    text-align: center;\n    color: #ff2a58;\n    font-size: 12px;\n    padding: 10px 0;\n  }\n</style> "],"sourceRoot":""}]}