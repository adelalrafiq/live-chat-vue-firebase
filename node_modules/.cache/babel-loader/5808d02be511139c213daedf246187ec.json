{"remainingRequest":"/home/tengu/Documents/vue-firebase/live-chat/node_modules/babel-loader/lib/index.js!/home/tengu/Documents/vue-firebase/live-chat/src/composables/useCollection.js","dependencies":[{"path":"/home/tengu/Documents/vue-firebase/live-chat/src/composables/useCollection.js","mtime":1611002424588},{"path":"/home/tengu/Documents/vue-firebase/live-chat/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tengu/Documents/vue-firebase/live-chat/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvdGVuZ3UvRG9jdW1lbnRzL3Z1ZS1maXJlYmFzZS9saXZlLWNoYXQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgeyByZWYgfSBmcm9tICd2dWUnOwppbXBvcnQgeyBwcm9qZWN0RmlyZXN0b3JlIH0gZnJvbSAnLi4vZmlyZWJhc2UvY29uZmlnJzsgLy8gZGVjbGFyZSB0aGUgY29ubmVjdGlvbiAmIHJlZnMgaW5zaWRlIHRoZSBmdW5jdGlvbgovLyBiZWNhdXNlIHRoZSBjb2xsZWN0aW9uIHN0YXRlIGlzIG5vdCBnbG9iYWwgKGxpa2UgYSB1c2VyKQovLyBkaWZmZXJlbnQgY29sbGVjdGlvbnMgbWF5IGJlIHVzZWQgYXQgb25jZSB0aGlzIHdheQoKdmFyIHVzZUNvbGxlY3Rpb24gPSBmdW5jdGlvbiB1c2VDb2xsZWN0aW9uKGNvbGxlY3Rpb24pIHsKICB2YXIgZXJyb3IgPSByZWYobnVsbCk7CgogIHZhciBhZGREb2MgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoZG9jKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBlcnJvci52YWx1ZSA9IG51bGw7CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIHByb2plY3RGaXJlc3RvcmUuY29sbGVjdGlvbihjb2xsZWN0aW9uKS5hZGQoZG9jKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDY7CiAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgxKTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dC50MC5tZXNzYWdlKTsKICAgICAgICAgICAgICBlcnJvci52YWx1ZSA9ICdjb3VsZCBub3Qgc2VuZCB0aGUgbWVzc2FnZSc7CgogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzEsIDZdXSk7CiAgICB9KSk7CgogICAgcmV0dXJuIGZ1bmN0aW9uIGFkZERvYyhfeCkgewogICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfTsKICB9KCk7CgogIHJldHVybiB7CiAgICBlcnJvcjogZXJyb3IsCiAgICBhZGREb2M6IGFkZERvYwogIH07Cn07CgpleHBvcnQgZGVmYXVsdCB1c2VDb2xsZWN0aW9uOw=="},{"version":3,"sources":["/home/tengu/Documents/vue-firebase/live-chat/src/composables/useCollection.js"],"names":["ref","projectFirestore","useCollection","collection","error","addDoc","doc","value","add","console","log","message"],"mappings":";;AAAA,SAASA,GAAT,QAAoB,KAApB;AACA,SAASC,gBAAT,QAAiC,oBAAjC,C,CAEA;AACA;AACA;;AAEA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,UAAD,EAAgB;AAEpC,MAAMC,KAAK,GAAGJ,GAAG,CAAC,IAAD,CAAjB;;AAEA,MAAMK,MAAM;AAAA,uEAAG,iBAAOC,GAAP;AAAA;AAAA;AAAA;AAAA;AACbF,cAAAA,KAAK,CAACG,KAAN,GAAc,IAAd;AADa;AAAA;AAAA,qBAILN,gBAAgB,CAACE,UAAjB,CAA4BA,UAA5B,EAAwCK,GAAxC,CAA4CF,GAA5C,CAJK;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAOXG,cAAAA,OAAO,CAACC,GAAR,CAAY,YAAIC,OAAhB;AACAP,cAAAA,KAAK,CAACG,KAAN,GAAc,4BAAd;;AARW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAANF,MAAM;AAAA;AAAA;AAAA,KAAZ;;AAYA,SAAO;AAAED,IAAAA,KAAK,EAALA,KAAF;AAASC,IAAAA,MAAM,EAANA;AAAT,GAAP;AAED,CAlBD;;AAoBA,eAAeH,aAAf","sourcesContent":["import { ref } from 'vue'\nimport { projectFirestore } from '../firebase/config'\n\n// declare the connection & refs inside the function\n// because the collection state is not global (like a user)\n// different collections may be used at once this way\n\nconst useCollection = (collection) => {\n\n  const error = ref(null)\n\n  const addDoc = async (doc) => {\n    error.value = null\n\n    try {\n      await projectFirestore.collection(collection).add(doc)\n    }\n    catch(err) {\n      console.log(err.message)\n      error.value = 'could not send the message'\n    }\n  }\n\n  return { error, addDoc }\n\n}\n\nexport default useCollection\n"]}]}